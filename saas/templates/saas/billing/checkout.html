{% extends "saas/base.html" %}

{% block saas_content %}
    <div id="checkout-container">
        <form @submit.prevent="redeem">
            <input name="code" type="text" placeholder="Coupon code" v-model="coupon">
            <button type="submit" class="submit-code">Redeem</button>
        </form>
        <table>
            <tbody>
                <tr v-for="item in items.items">
                    <td>
                        <em>[[item.subscription.plan.title]] from
                      [[item.subscription.plan.organization]]</em>
                        <button @click="remove(item.subscription.plan.slug)">delete</button>
                        <table>
                            <tbody>
                                <tr v-for="line in item.lines" class="invoice-item">
                                    <td></td>
                                    <td>[[line.amount]]</td>
                                    <td v-html="line.description"></td>
                                </tr>
                                <tr v-for="option in item.options">
                                    <td><input type="radio" :name="item.name" :value="option.dest_amount" @change="optionSelected(item.subscription.plan, option.description)" :checked="plansPeriods[item.subscription.plan.slug] == option.description"></input></td>
                                    <td>[[option.amount]]</td>
                                    <td v-html="option.description"></td>
                                </tr>
                            </tbody>
                        </table>
                    </td>
                </tr>
                <tfoot>
                    <tr>
                        <th class="total-amount">[[linesPrice[0] | currency($options.filters.currencyToSymbol(linesPrice[1]))]]</th>
                        <th>Charged Today</th>
                    </tr>
                </tfoot>
            </tbody>
        </table>
    </div>
{% endblock %}

